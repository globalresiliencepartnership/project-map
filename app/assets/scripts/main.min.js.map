{"version":3,"file":"main.min.js","sources":["../../../source_assets/scripts/main.js","../../../source_assets/scripts/models/location.js","../../../source_assets/scripts/models/project.js","../../../source_assets/scripts/models/tourItem.js","../../../source_assets/scripts/router.js","../../../source_assets/scripts/views/map.js","../../../source_assets/scripts/views/project-form.js","../../../source_assets/scripts/views/sidebar.js","../../../source_assets/scripts/views/tour.js"],"names":["window","Grp","Models","Collections","Views","Routers","init","router","Router","Backbone","history","start","$","document","ready","L","mapbox","accessToken","Parse","initialize","Location","Object","extend","className","Project","TourItem","routes","add-project","*default","unbind","View","Map","addProject","console","log","ProjectForm","el","template","JST","mapGeojson","projectIds","projects","tourItems","sidebarView","tourView","currentTourItem","currentProj","clickTimer","map","markerClusterLayer","markerAggregateLayer","filteredMarkersLayer","markerNearbyZone","nearbyMarkersLayer","tooltipTemplate","_self","this","processApiData","err","geojson","_","sortBy","o","attributes","Weight","render","$el","html","Sidebar","Tour","popover","trigger","setData","maxZoom","minZoom","zoomControl","on","Control","Zoom","position","addTo","MiniMap","tileLayer","zoomLevelFixed","aimingRectOptions","color","weight","fill","MarkerClusterGroup","showCoverageOnHover","spiderfyOnMaxZoom","iconCreateFunction","cluster","DivIcon","iconSize","getChildCount","cities","countries","each","features","index","value","properties","region","push","project","substring","city","country","filterCities","unique","append","filterCountries","filterProjects","selectmenu","hide","addClass","setView","getFilteredMarkers","addLayer","addEventListeners","bind","sidebarNavUpBtnClick","sidebarNavPrevBtnClick","sidebarNavNextBtnClick","sidebarNavAboutBtnClick","sidebarNavSearchBtnClick","sidebarNavSearchQuery","tourNavNextBtnClick","tourNavPrevBtnClick","currentZoom","getZoom","attr","removeClass","e","preventDefault","val","change","event","data","item","show","pid","toString","findWhere","id","filterByPid","resetMarkers","cIndex","indexOf","nIndex","nextPid","length","prevPid","tourLength","location","zoom","latitude","longitude","fadeIn","showProject","feature","selectedFacet","toLowerCase","searchString","partnersint","find","setFilter","eachLayer","layer","props","marker_icon","divIcon","popupAnchor","setIcon","popup","bindPopup","fitBounds","getBounds","cleanMap","removeLayer","clearLayers","nearbyMarkersZoneLayer","toGeoJSON","padding","getNearbyMarkers","nearbyZone","featureLayer","setGeoJSON","geoJsonLayer","found","isEqual","turf","inside","markers","callback","ProjectQuery","Query","equalTo","LocationQuery","matchesQuery","include","TourQuery","async","parallel","cb","success","error","message","res","Error","locations","type","forEach","obj","get","geometry","coordinates","loc","templateLocation","events","centroids","$loc","addLocationSelection","$projLocations","parents","remove","click","$mapContainer","scrollWheelZoom","disable","marker","latlng","lng","lat","setLatLng","control","$name","name","trim","siblings","parent","$type","$resp_email","resp_email","$url","url","$proj_description","proj_description","$locations","errors","parseFloat","isNaN","join","set","point","GeoPoint","l","save","resetForm","reset","click #nav-up","click #nav-prev","click #nav-next","click #nav-about","click #nav-search","change #search-box","keyup #search-box","partners","partnerslocal","split","navUpBtnClick","navPrevBtnClick","navNextBtnClick","navAboutBtnClick","navSearchBtnClick","navSearchKeyup","click #tour-prev","click #tour-next","tourPrevBtnClick","tourNextBtnClick"],"mappings":"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"}